angular.module("ivpusic.cookie",["ng"]).factory("ipCookie",["$document",function(e){"use strict";return function(){function i(i,n,o){var r,t,s,p,u,c,a,d,f;if(o=o||{},void 0!==n)return n="object"==typeof n?JSON.stringify(n):n+"","number"==typeof o.expires&&(f=o.expires,o.expires=new Date,-1===f?o.expires=new Date("Thu, 01 Jan 1970 00:00:00 GMT"):o.expires.setDate(o.expires.getDate()+f)),e[0].cookie=[encodeURIComponent(i),"=",encodeURIComponent(n),o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("");for(t=[],d=e[0].cookie,d&&(t=d.split("; ")),r={},a=!1,s=0;t.length>s;++s)if(t[s]&&(p=t[s],u=p.indexOf("="),c=p.substring(0,u),n=decodeURIComponent(p.substring(u+1)),void 0===i||i===c)){try{r[c]=JSON.parse(n)}catch(x){r[c]=n}if(i===c)return r[c];a=!0}return a&&void 0===i?r:void 0}return i.remove=function(e,n){var o=void 0!==i(e);return o&&(n||(n={}),n.expires=-1,i(e,"",n)),o},i}()}]);